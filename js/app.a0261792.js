(function(){var t={6700:function(t,e,s){var a={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":5948,"./de-ch.js":5948,"./de.js":5509,"./dv":9838,"./dv.js":9838,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":9671,"./he.js":9671,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3948,"./pl.js":3948,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":242,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":242,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id=6700},5412:function(t,e,s){"use strict";var a=s(8935),n=s(6166),i=s.n(n),r=s(7133),l=s.n(r),o=s(4549),c=s.n(o),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"网上大学",name:"brushClass"}},[s("BrushClass")],1),s("el-tab-pane",{attrs:{label:"约苗(未开发完)",name:"yueMiao"}},[s("YueMiao")],1)],1)},u=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{attrs:{gutter:20,align:"bottom",justify:"center"}},[s("el-col",{attrs:{span:10}},[s("el-input",{attrs:{placeholder:"Please token"},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1),s("el-col",{attrs:{span:10}},[s("el-input",{attrs:{placeholder:"课程ID"},model:{value:t.classId,callback:function(e){t.classId=e},expression:"classId"}})],1),s("el-col",{attrs:{span:2,align:"left"}},[s("el-button",{attrs:{icon:"el-icon-check",type:"primary",round:""},on:{click:t.handleStart}},[t._v(" 查询 ")])],1)],1),s("el-row",{staticStyle:{padding:"0 150px"}},[s("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:24,align:"center"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data,"row-class-name":t.tableRowClassName,"show-summary":"",height:"600",border:""}},[s("el-table-column",{attrs:{prop:"businessName",label:"名称","min-width":"500",align:"center"}}),s("el-table-column",{attrs:{prop:"name",label:"上级目录名称","min-width":"210",align:"center"}}),s("el-table-column",{attrs:{prop:"businessId",label:"地址","min-width":"310",align:"center"}}),s("el-table-column",{attrs:{label:"状态",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(" "+t._s(1==s.finishStatus?"已学习":"未完成")+" ")]}}])})],1),s("el-alert",{attrs:{title:t.tips,effect:"dark",type:"success",closable:!1}})],1)],1),s("el-row",{staticStyle:{padding:"0 150px"}},[s("el-col",{attrs:{offset:8,span:4,align:"center"}},[s("el-input-number",{attrs:{step:1},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),s("el-col",{attrs:{span:4,align:"center"}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-video-camera",round:""},on:{click:t.handlePlay}},[t._v(" 播放 ")])],1)],1)],1)},m=[],p={name:"BrushClass",data(){return{data:[],timer:null,loading:!1,video:[],videoList:[],num:4,finishStatusList:[],tips:"",token:"Bearer__091d318a0671ccef2ded55eea7ea5bad",classId:"f96d2eff-3ab1-4da9-9aff-0aaa097b13b3"}},methods:{async handleStart(){this.loading=!0,this.data=[],this.videoList=[];const t=await this.$axios({method:"get",headers:{Authorization:this.token},params:{classId:this.classId},url:"/getCourseList"}).catch((t=>{this.$message({message:"Access is Denied"==t.response.data.message?"token 过期":t.response.data.message,type:"error"})}));this.data=await new Promise((e=>{let s=[],a=0;t.data.forEach((n=>{this.$axios({method:"get",headers:{Authorization:this.token},params:{classId:this.classId,chapterId:n.id,page:1,pageSize:1e4},url:"/getDetailCourseList"}).then((i=>{s=[...s,...i.data.items.map((t=>({...t,name:n.name,finishStatus:t.classStudentActivityProgress.finishStatus})))],a++,a===t.data.length&&e(s)}))}))})),this.loading=!1,this.finishStatusList=[],this.data.forEach((t=>{1!=t.finishStatus?this.videoList.push(t.businessId):this.finishStatusList.push(t.businessId)})),this.tips=`当前未学习${this.videoList.length}个！已学习${this.data.length-this.videoList.length}个！`},async handlePlay(){this.$notify({title:"警告",message:"视频播放中，请勿关闭此页面",type:"warning",showClose:!1,position:"top-left",duration:1e4}),clearInterval(this.timer),this.video=this.videoList.slice(0,this.num),this.video.forEach((t=>{window.open(`https://kc.zhixueyun.com/#/study/course/detail/11&${t}/5/1`,["_blank",t])})),this.timer=setInterval((()=>{this.$notify({title:"警告",message:"定时更新状态中，请勿关闭此页面",type:"warning",showClose:!1,position:"top-left",duration:1e4}),this.handleStart().then((()=>{this.video=this.video.map((t=>this.finishStatusList.includes(t)?(this.$notify({title:"成功",message:`已学习完成  【${this.getItemName(t)}】`,type:"success",duration:0}),null):t));const t=JSON.parse(JSON.stringify(this.video));this.video=this.video.map((e=>{if(!e)for(let s=0;s<this.videoList.length;s++){const e=this.videoList[s];if(!t.includes(e))return t.push(e),setTimeout((()=>{this.$notify({title:"提示",message:`开始学习  【${this.getItemName(e)}】`,type:"info",duration:0})}),500),window.open(`https://kc.zhixueyun.com/#/study/course/detail/11&${e}/5/1`,["_blank",e]),e}return e})),this.$notify({title:"成功",message:"定时更新状态成功",type:"success",showClose:!1,position:"top-left",duration:1e4})}))}),6e4)},getItemName(t){for(let e=0;e<this.data.length;e++){const s=this.data[e];if(s.businessId===t)return s.businessName}},tableRowClassName({row:t}){return 1==t.finishStatus?"success-row":"warning-row"}}},f=p,g=s(1001),j=(0,g.Z)(f,h,m,!1,null,null,null),b=j.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{staticClass:"col-12",attrs:{xs:24,md:12}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:15}},[s("el-input",{attrs:{placeholder:"Please token"},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1),s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{type:"success",icon:"el-icon-turn-off",round:""},on:{click:t.searchUser}},[t._v("人员")]),s("el-button",{attrs:{type:"success",icon:"el-icon-turn-off",round:""},on:{click:t.handleStart}},[t._v("开始")])],1)],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:10}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"省"},on:{change:t.changeProvince},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),s("el-col",{attrs:{span:10}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"市"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),s("el-col",{attrs:{span:4}},[s("el-button",{attrs:{type:"success",icon:"el-icon-search",round:""},on:{click:t.handleSearch}},[t._v("查询")])],1)],1)],1),s("el-col",{staticClass:"col-12",attrs:{xs:24,md:12}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userList,"highlight-current-row":"",border:""},on:{"current-change":t.handleCurrentChange}},[s("el-table-column",{attrs:{prop:"id",label:"id",minWidth:"100",align:"center"}}),s("el-table-column",{attrs:{prop:"name",label:"姓名",minWidth:"100",align:"center"}}),s("el-table-column",{attrs:{prop:"address",label:"地址",minWidth:"130",align:"center"}}),s("el-table-column",{attrs:{prop:"idCardNo",label:"身份证",minWidth:"130",align:"center"}})],1)],1)],1),s("el-row",[s("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:24,align:"left"}},[s("el-switch",{staticStyle:{"margin-right":"10px"},attrs:{"inactive-text":"是否订阅"},model:{value:t.isSubscribe,callback:function(e){t.isSubscribe=e},expression:"isSubscribe"}}),s("el-switch",{attrs:{"inactive-text":"是否预约"},model:{value:t.isMake,callback:function(e){t.isMake=e},expression:"isMake"}})],1),s("el-col",{attrs:{span:24}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{prop:"isNoticedUserAllowed",label:"是否可预约",minWidth:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(" "+t._s(0===s.isNoticedUserAllowed&&1===s.total?"可以":"不行")+" ")]}}])}),s("el-table-column",{attrs:{prop:"total",label:"是否可订阅",minWidth:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[t._v(" "+t._s(0===s.total?"不行":"可以")+" ")]}}])}),s("el-table-column",{attrs:{prop:"name",label:"医院名称",minWidth:"130",align:"center"}}),s("el-table-column",{attrs:{prop:"vaccineName",label:"疫苗名称",minWidth:"130",align:"center"}}),s("el-table-column",{attrs:{prop:"address",label:"地址",minWidth:"130",align:"center"}}),s("el-table-column",{attrs:{prop:"worktimeDesc",label:"建议",minWidth:"130",align:"center"}})],1)],1)],1)],1)},y=[],k={name:"yueMiao",data(){return{loading:!1,isSubscribe:!0,isMake:!0,tableData:[],provinceList:[],province:"42",cityList:[],city:"4201",token:"",userId:9566067,userList:[],user:"",days:[]}},methods:{handleStart(){""!==this.token?this.tableData.forEach((t=>{1!==t.total||0!==t.isNoticedUserAllowed||!0!==this.isMake?1===t.total&&!0===this.isSubscribe&&this.$axios({method:"get",headers:{tk:this.token},params:{id:t.depaVaccId},url:"/getItem"}).then((e=>{"0000"==e.data.code?(Object.assign(t,e.data.data),this.$axios({method:"get",headers:{tk:this.token},params:{vaccineCode:t.vaccineCode,productId:t.productId,depaVaccId:t.depaVaccId,linkmanId:this.user.id,idCardNo:this.user.idCardNo},url:"/checkLinkman"}).then((t=>{"0000"==t.data.code?console.log(t.data):this.$message.error(t.data.msg)}))):this.$message.error(e.data.msg)})):async function(e){const s=await e.$axios({method:"get",headers:{tk:e.token},params:{id:t.depaVaccId},url:"/getItem"});if("0000"==s.data.code){Object.assign(t,s.data.data);const a=await e.$axios({method:"get",headers:{tk:e.token},params:{depaCode:t.departmentCode,days:String(e.days),vaccCode:t.vaccineCode,vaccIndex:1,departmentVaccineId:t.departmentVaccineId},url:"/getIf"});console.log("item3: ",a)}else this.$message.error(s.data.msg)}(this)})):this.$message.error("请抓取token")},searchUser(){""!==this.token?this.getUser():this.$message.error("请抓取token")},getList(){this.loading=!0,this.$axios({method:"post",data:`offset=0&limit=100&name=&regionCode=${this.city}&isOpen=1&longitude=114.1950912475586&latitude=30.649051666259766&sortType=1&vaccineCode=&customId=3`,url:"/getDepartments"}).then((t=>{this.loading=!1,this.tableData=t.data.data.rows}))},getUser(){this.$axios({method:"get",headers:{tk:this.token},params:{id:this.userId,isShowDescribtion:!0,showOthers:!0},url:"/getUser"}).then((t=>{"0000"==t.data.code?this.userList=t.data.data:this.$message.error(t.data.msg)}))},getProvince(){this.$axios({method:"get",params:{parentCode:""},url:"/getProvince"}).then((t=>{this.provinceList=t.data.data}))},getCity(t){this.$axios({method:"get",params:{parentCode:t},url:"/getCity"}).then((t=>{this.cityList=t.data.data}))},changeProvince(t){this.cityList=[],this.city="",this.getCity(t)},handleSearch(){this.getList()},handleCurrentChange(t){this.user=t}},mounted(){let t=this.$moment().format("YYYY-MM-DD");for(let e=0;e<150;e++){const e=this.$moment(t).add(1,"days");t=e,this.days.push(this.$moment(e).format("YYYY-MM-DD"))}this.getCity("42"),this.getProvince()}},w=k,x=(0,g.Z)(w,v,y,!1,null,null,null),S=x.exports,C={name:"App",data(){return{activeName:"brushClass"}},components:{YueMiao:S,BrushClass:b}},$=C,I=(0,g.Z)($,d,u,!1,null,null,null),_=I.exports;a["default"].prototype.$axios=i(),a["default"].prototype.$moment=l(),a["default"].use(c()),new a["default"]({el:"#app",render:t=>t(_)})}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],i=t[d][2];for(var l=!0,o=0;o<a.length;o++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[o])}))?a.splice(o--,1):(l=!1,i<r&&(r=i));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,r=a[0],l=a[1],o=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(o)var d=o(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunkjb_app"]=self["webpackChunkjb_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(5412)}));a=s.O(a)})();
//# sourceMappingURL=app.a0261792.js.map