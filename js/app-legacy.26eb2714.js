(function(){var e={46700:function(e,t,a){var n={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=46700},15412:function(e,t,a){"use strict";a(66992),a(88674),a(19601),a(17727);var n=a(28935),s=a(26166),r=a.n(s),i=a(17133),o=a.n(i),l=a(74549),c=a.n(l),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"网上大学",name:"brushClass"}},[a("BrushClass")],1),a("el-tab-pane",{attrs:{label:"约苗(未开发完)",name:"yueMiao"}},[a("YueMiao")],1)],1)},d=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20,align:"bottom",justify:"center"}},[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"Please token"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"课程ID"},model:{value:e.classId,callback:function(t){e.classId=t},expression:"classId"}})],1),a("el-col",{attrs:{span:2,align:"left"}},[a("el-button",{attrs:{icon:"el-icon-check",type:"primary",round:""},on:{click:e.handleStart}},[e._v(" 查询 ")])],1)],1),a("el-row",{staticStyle:{padding:"0 150px"}},[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:24,align:"center"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.data,"row-class-name":e.tableRowClassName,"show-summary":"",height:"600",border:""}},[a("el-table-column",{attrs:{prop:"businessName",label:"名称","min-width":"500",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"上级目录名称","min-width":"210",align:"center"}}),a("el-table-column",{attrs:{prop:"businessId",label:"地址","min-width":"310",align:"center"}}),a("el-table-column",{attrs:{label:"状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(1==a.finishStatus?"已学习":"未完成")+" ")]}}])})],1),a("el-alert",{attrs:{title:e.tips,effect:"dark",type:"success",closable:!1}})],1)],1),a("el-row",{staticStyle:{padding:"0 150px"}},[a("el-col",{attrs:{offset:8,span:4,align:"center"}},[a("el-input-number",{attrs:{step:1},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1),a("el-col",{attrs:{span:4,align:"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-video-camera",round:""},on:{click:e.handlePlay}},[e._v(" 播放 ")])],1)],1)],1)},h=[],p=a(9726),f=a(93019),g=a(74479),j=a(16198),v=(a(78975),a(41539),a(54747),a(92222),a(21249),a(68309),a(47042),a(26699),a(32023),a(38862),{name:"BrushClass",data:function(){return{data:[],timer:null,loading:!1,video:[],videoList:[],num:4,finishStatusList:[],tips:"",token:"Bearer__091d318a0671ccef2ded55eea7ea5bad",classId:"f96d2eff-3ab1-4da9-9aff-0aaa097b13b3"}},methods:{handleStart:function(){var e=this;return(0,j.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.data=[],e.videoList=[],t.next=5,e.$axios({method:"get",headers:{Authorization:e.token},params:{classId:e.classId},url:"/getCourseList"}).catch((function(t){e.$message({message:"Access is Denied"==t.response.data.message?"token 过期":t.response.data.message,type:"error"})}));case 5:return a=t.sent,t.next=8,new Promise((function(t){var n=[],s=0;a.data.forEach((function(r){e.$axios({method:"get",headers:{Authorization:e.token},params:{classId:e.classId,chapterId:r.id,page:1,pageSize:1e4},url:"/getDetailCourseList"}).then((function(e){n=[].concat((0,g.Z)(n),(0,g.Z)(e.data.items.map((function(e){return(0,f.Z)((0,f.Z)({},e),{},{name:r.name,finishStatus:e.classStudentActivityProgress.finishStatus})})))),s++,s===a.data.length&&t(n)}))}))}));case 8:e.data=t.sent,e.loading=!1,e.finishStatusList=[],e.data.forEach((function(t){1!=t.finishStatus?e.videoList.push(t.businessId):e.finishStatusList.push(t.businessId)})),e.tips="当前未学习".concat(e.videoList.length,"个！已学习").concat(e.data.length-e.videoList.length,"个！");case 13:case"end":return t.stop()}}),t)})))()},handlePlay:function(){var e=this;return(0,j.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$notify({title:"警告",message:"视频播放中，请勿关闭此页面",type:"warning",showClose:!1,position:"top-left",duration:1e4}),clearInterval(e.timer),e.video=e.videoList.slice(0,e.num),e.video.forEach((function(e){window.open("https://kc.zhixueyun.com/#/study/course/detail/11&".concat(e,"/5/1"),["_blank",e])})),e.timer=setInterval((function(){e.$notify({title:"警告",message:"定时更新状态中，请勿关闭此页面",type:"warning",showClose:!1,position:"top-left",duration:1e4}),e.handleStart().then((function(){e.video=e.video.map((function(t){return e.finishStatusList.includes(t)?(e.$notify({title:"成功",message:"已学习完成  【".concat(e.getItemName(t),"】"),type:"success",duration:0}),null):t}));var t=JSON.parse(JSON.stringify(e.video));e.video=e.video.map((function(a){if(!a)for(var n=function(a){var n=e.videoList[a];if(!t.includes(n))return t.push(n),setTimeout((function(){e.$notify({title:"提示",message:"开始学习  【".concat(e.getItemName(n),"】"),type:"info",duration:0})}),500),window.open("https://kc.zhixueyun.com/#/study/course/detail/11&".concat(n,"/5/1"),["_blank",n]),{v:n}},s=0;s<e.videoList.length;s++){var r=n(s);if("object"===(0,p.Z)(r))return r.v}return a})),e.$notify({title:"成功",message:"定时更新状态成功",type:"success",showClose:!1,position:"top-left",duration:1e4})}))}),6e4);case 5:case"end":return t.stop()}}),t)})))()},getItemName:function(e){for(var t=0;t<this.data.length;t++){var a=this.data[t];if(a.businessId===e)return a.businessName}},tableRowClassName:function(e){var t=e.row;return 1==t.finishStatus?"success-row":"warning-row"}}}),b=v,y=a(1001),k=(0,y.Z)(b,m,h,!1,null,null,null),w=k.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticClass:"col-12",attrs:{xs:24,md:12}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"Please token"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"success",icon:"el-icon-turn-off",round:""},on:{click:e.searchUser}},[e._v("人员")]),a("el-button",{attrs:{type:"success",icon:"el-icon-turn-off",round:""},on:{click:e.handleStart}},[e._v("开始")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"省"},on:{change:e.changeProvince},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},e._l(e.provinceList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-col",{attrs:{span:10}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"市"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.cityList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"success",icon:"el-icon-search",round:""},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),a("el-col",{staticClass:"col-12",attrs:{xs:24,md:12}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,"highlight-current-row":"",border:""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"id",label:"id",minWidth:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",minWidth:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",minWidth:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"idCardNo",label:"身份证",minWidth:"130",align:"center"}})],1)],1)],1),a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:24,align:"left"}},[a("el-switch",{staticStyle:{"margin-right":"10px"},attrs:{"inactive-text":"是否订阅"},model:{value:e.isSubscribe,callback:function(t){e.isSubscribe=t},expression:"isSubscribe"}}),a("el-switch",{attrs:{"inactive-text":"是否预约"},model:{value:e.isMake,callback:function(t){e.isMake=t},expression:"isMake"}})],1),a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"isNoticedUserAllowed",label:"是否可预约",minWidth:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(0===a.isNoticedUserAllowed&&1===a.total?"可以":"不行")+" ")]}}])}),a("el-table-column",{attrs:{prop:"total",label:"是否可订阅",minWidth:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(0===a.total?"不行":"可以")+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"医院名称",minWidth:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"vaccineName",label:"疫苗名称",minWidth:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",minWidth:"130",align:"center"}}),a("el-table-column",{attrs:{prop:"worktimeDesc",label:"建议",minWidth:"130",align:"center"}})],1)],1)],1)],1)},S=[],C={name:"yueMiao",data:function(){return{loading:!1,isSubscribe:!0,isMake:!0,tableData:[],provinceList:[],province:"42",cityList:[],city:"4201",token:"",userId:9566067,userList:[],user:"",days:[]}},methods:{handleStart:function(){var e=this;""!==this.token?this.tableData.forEach((function(t){1!==t.total||0!==t.isNoticedUserAllowed||!0!==e.isMake?1===t.total&&!0===e.isSubscribe&&e.$axios({method:"get",headers:{tk:e.token},params:{id:t.depaVaccId},url:"/getItem"}).then((function(a){"0000"==a.data.code?(Object.assign(t,a.data.data),e.$axios({method:"get",headers:{tk:e.token},params:{vaccineCode:t.vaccineCode,productId:t.productId,depaVaccId:t.depaVaccId,linkmanId:e.user.id,idCardNo:e.user.idCardNo},url:"/checkLinkman"}).then((function(t){"0000"==t.data.code?console.log(t.data):e.$message.error(t.data.msg)}))):e.$message.error(a.data.msg)})):function(){var e=(0,j.Z)(regeneratorRuntime.mark((function e(a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$axios({method:"get",headers:{tk:a.token},params:{id:t.depaVaccId},url:"/getItem"});case 2:if(n=e.sent,"0000"!=n.data.code){e.next=11;break}return Object.assign(t,n.data.data),e.next=7,a.$axios({method:"get",headers:{tk:a.token},params:{depaCode:t.departmentCode,days:String(a.days),vaccCode:t.vaccineCode,vaccIndex:1,departmentVaccineId:t.departmentVaccineId},url:"/getIf"});case 7:s=e.sent,console.log("item3: ",s),e.next=12;break;case 11:this.$message.error(n.data.msg);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()(e)})):this.$message.error("请抓取token")},searchUser:function(){""!==this.token?this.getUser():this.$message.error("请抓取token")},getList:function(){var e=this;this.loading=!0,this.$axios({method:"post",data:"offset=0&limit=100&name=&regionCode=".concat(this.city,"&isOpen=1&longitude=114.1950912475586&latitude=30.649051666259766&sortType=1&vaccineCode=&customId=3"),url:"/getDepartments"}).then((function(t){e.loading=!1,e.tableData=t.data.data.rows}))},getUser:function(){var e=this;this.$axios({method:"get",headers:{tk:this.token},params:{id:this.userId,isShowDescribtion:!0,showOthers:!0},url:"/getUser"}).then((function(t){"0000"==t.data.code?e.userList=t.data.data:e.$message.error(t.data.msg)}))},getProvince:function(){var e=this;this.$axios({method:"get",params:{parentCode:""},url:"/getProvince"}).then((function(t){e.provinceList=t.data.data}))},getCity:function(e){var t=this;this.$axios({method:"get",params:{parentCode:e},url:"/getCity"}).then((function(e){t.cityList=e.data.data}))},changeProvince:function(e){this.cityList=[],this.city="",this.getCity(e)},handleSearch:function(){this.getList()},handleCurrentChange:function(e){this.user=e}},mounted:function(){for(var e=this.$moment().format("YYYY-MM-DD"),t=0;t<150;t++){var a=this.$moment(e).add(1,"days");e=a,this.days.push(this.$moment(a).format("YYYY-MM-DD"))}this.getCity("42"),this.getProvince()}},I=C,_=(0,y.Z)(I,x,S,!1,null,null,null),$=_.exports,z={name:"App",data:function(){return{activeName:"brushClass"}},components:{YueMiao:$,BrushClass:w}},L=z,N=(0,y.Z)(L,u,d,!1,null,null,null),O=N.exports;n["default"].prototype.$axios=r(),n["default"].prototype.$moment=o(),n["default"].use(c()),new n["default"]({el:"#app",render:function(e){return e(O)}})}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,r){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],r=e[u][2];for(var o=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(o=!1,r<i&&(i=r));if(o){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,i=n[0],o=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(l)var u=l(a)}for(t&&t(n);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self["webpackChunkjb_app"]=self["webpackChunkjb_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(15412)}));n=a.O(n)})();
//# sourceMappingURL=app-legacy.26eb2714.js.map